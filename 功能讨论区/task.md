# 桌面AI助手 - MVP任务列表

> 基于 README.md 和 功能实现讨论.md 整理
> 创建日期: 2026-02-05

---

## 一、项目基础架构搭建

### 1.1 项目初始化
- [ ] 创建Python项目结构（src/, tests/, config/, docs/）
- [ ] 初始化 FastAPI 后端框架
- [ ] 配置 requirements.txt 依赖管理
- [ ] 创建配置文件管理模块（config.yaml）
- [ ] 设置日志系统（logging配置）

### 1.2 数据库搭建
- [ ] 初始化 SQLite 数据库
- [ ] 设计基础数据表结构（对话记录、配置项）
- [ ] 创建数据库操作工具类

---

## 二、OpenClaw集成（电脑文件管理与应用控制）

### 2.1 OpenClaw部署
- [ ] 研究 OpenClaw 官方文档和API
- [ ] 本地部署 OpenClaw 服务（Docker方式）
- [ ] 验证 OpenClaw 基础功能可用性

### 2.2 OpenClaw API封装
- [ ] 创建 OpenClaw 客户端封装类
- [ ] 实现文件操作接口（创建/删除/移动/重命名/搜索）
- [ ] 实现应用控制接口（打开/关闭应用）
- [ ] 实现系统操作接口（音量/亮度/截图/锁屏）

### 2.3 安全机制
- [ ] 实现敏感操作确认机制
- [ ] 添加操作日志记录
- [ ] 实现纯聊天模式下禁用OpenClaw调用

---

## 三、语音交互模块

### 3.1 语音唤醒
- [ ] 集成 Porcupine 唤醒词检测库
- [ ] 训练/配置自定义唤醒词
- [ ] 实现唤醒词监听守护进程

### 3.2 语音识别（ASR）
- [ ] 集成 Whisper 本地语音识别
- [ ] 实现麦克风音频采集（pyaudio）
- [ ] 实现语音活动检测（VAD）
- [ ] 实现语音转文字功能
- [ ] 支持中英文识别

### 3.3 语音合成（TTS）
- [ ] 集成 Edge-TTS 语音合成
- [ ] 实现文字转语音功能
- [ ] 实现音频播放模块
- [ ] 支持中英文语音输出

### 3.4 语音交互流程整合
- [ ] 实现完整语音交互流程：唤醒→录音→识别→处理→回复
- [ ] 添加语音交互状态管理
- [ ] 实现打断机制（用户说话时停止播放）

---

## 四、AI对话引擎

### 4.1 LLM接入
- [ ] 配置 LLM API（GPT-4 / Claude API）
- [ ] 创建 LLM 调用封装类
- [ ] 实现 API Key 安全管理

### 4.2 意图识别
- [ ] 设计意图分类体系（电脑控制/闲聊/查询等）
- [ ] 实现基于LLM的意图识别
- [ ] 实现意图到动作的路由分发

### 4.3 对话管理
- [ ] 实现对话上下文管理
- [ ] 实现对话历史存储
- [ ] 设计基础System Prompt

### 4.4 响应生成
- [ ] 实现自然语言响应生成
- [ ] 实现执行结果的语音反馈
- [ ] 处理异常情况的友好回复

---

## 五、桌面摆件模式（待机显示）

### 5.1 显示界面开发
- [ ] 选择桌面GUI框架（PyQt / Tkinter / Electron）
- [ ] 设计待机界面UI
- [ ] 实现时间显示组件
- [ ] 实现天气信息显示组件

### 5.2 数据获取
- [ ] 集成天气API（和风天气 / OpenWeatherMap）
- [ ] 实现天气数据定时更新
- [ ] 实现NTP时间同步

### 5.3 界面交互
- [ ] 实现待机/唤醒状态切换
- [ ] 实现界面最小化/显示切换
- [ ] 实现基础自定义配置

---

## 六、系统整合与测试

### 6.1 模块整合
- [ ] 整合语音模块与AI对话引擎
- [ ] 整合AI对话引擎与OpenClaw
- [ ] 整合待机界面与语音唤醒

### 6.2 API服务
- [ ] 实现 FastAPI REST接口
- [ ] 实现 WebSocket 实时通信接口
- [ ] 编写API文档

### 6.3 测试
- [ ] 编写单元测试
- [ ] 进行集成测试
- [ ] 进行端到端语音交互测试

### 6.4 部署
- [ ] 编写启动脚本
- [ ] 编写安装/部署文档
- [ ] 配置开机自启动（可选）

---

## MVP功能验收标准

完成以上任务后，MVP应能实现：

1. **语音唤醒**：说出唤醒词后系统开始监听
2. **语音对话**：能进行基础的语音问答
3. **电脑控制**：能通过语音执行文件操作、打开/关闭应用、调节音量等
4. **待机显示**：显示时间和天气信息

---

## 技术栈清单

| 模块 | 技术选型 |
|------|----------|
| 后端框架 | Python + FastAPI |
| 电脑控制 | OpenClaw |
| 语音唤醒 | Porcupine |
| 语音识别 | Whisper |
| 语音合成 | Edge-TTS |
| AI模型 | GPT-4 / Claude API |
| 数据库 | SQLite |
| 桌面GUI | PyQt / Tkinter |

---

*注：此任务列表仅包含MVP阶段功能，后续功能（AI待办、AI日历、人格系统、手机App等）将在MVP完成后规划。*
